<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <title data-i18n="pageTitle">Fast Typing Game</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>

  <!-- contener opcji-->
  <div class="options-container">
    <h3 data-i18n="optionsGame">Opcje gry</h3>

    <!-- prze≈ÇƒÖcznik motywu strony na ciemny i jasny-->
    <div class="theme-toggle">
      <span id="themeText" data-i18n="themeToggle">Tryb ciemny</span>
      <span class="theme-icon">‚òÄÔ∏è</span>
      <input type="checkbox" id="themeSwitch">
      <label for="themeSwitch" class="toggle-label"></label>
      <span class="theme-icon">üåô</span>
    </div>

    <!-- Nowy przycisk zmiany jƒôzyka -->
    <button id="langToggleBtn" class="btn" data-i18n="langToggleBtn">Switch to English</button>

    <p class="opt-placeholder" data-i18n="optionsPlaceholder">Tutaj bƒôdƒÖ pojawia≈Çy siƒô opcje gry...</p>
  </div>

  <div class="container">

    <!-- Strona powitalna -->
    <div id="pageIntro" class="page">
      <h1 class="title text-center" data-i18n="gameTitle">Gra w szybkie pisanie</h1>
      <p class="text-center" data-i18n="introOptions1">Graj samemu:</p>
      <div class="btn-group text-center">
        <button id="singleplayerBtn" class="btn" data-i18n="singleplayer">Singleplayer</button>
      </div>
      <p class="text-center" data-i18n="introOptions3">Graj z losowym przeciwnikiem:</p>
      <div class="btn-group text-center">
        <button id="findMatchBtn" class="btn" data-i18n="findMatch">Znajd≈∫ przeciwnika</button>
      </div>      
      <p class="text-center" data-i18n="introOptions2">Graj ze znajomymi:</p>
      <div>
        <button id="createGameBtn" class="btn" data-i18n="createGame">Stw√≥rz grƒô</button>
        <button id="goToJoinBtn" class="btn" data-i18n="joinGame">Do≈ÇƒÖcz do gry</button>
      </div>
      <div class="text-center" style="margin-top: 20px;">
        <button id="howToPlayBtn" class="btn" style="font-size: 0.8rem;">How to play?</button>
      </div>
    </div>

    <!-- Ekran wpisywania nicku dla find match -->
    <div id="pageFindMatchNickname" class="page hidden">
      <h2 class="text-center">Podaj sw√≥j nick</h2>
      <div class="text-center">
        <input type="text" id="findMatchNicknameInput" placeholder="Tw√≥j nick" />
        <button id="confirmFindMatchBtn" class="btn">Dalej</button>
        <button class="btn menuBtn">Powr√≥t do menu</button>
      </div>
    </div>

    <!-- Ekran oczekiwania na przeciwnika -->
    <div id="pageFindMatchWaiting" class="page hidden">
      <h2 class="text-center">Szukam przeciwnika...</h2>
      <!-- Tu mo≈ºesz dodaƒá animacjƒô spinnera -->
    </div>

    <!-- Ekran gry dla find match -->
    <div id="pageFindMatchGame" class="page hidden">
      <h2 class="text-center">Przepisz tekst najszybciej, jak potrafisz!</h2>
      <div id="findMatchTextContainer" class="text-container">
        <div id="findMatchTextToType" class="big-text"></div>
      </div>
      <div class="text-center">
        <input type="text" id="findMatchTypedText" class="typing-input" placeholder="Tutaj pisz..." />
      </div>
      <h3 id="findMatchWinner" class="text-center"></h3>
      <h4 id="findMatchFinalTime" class="text-center"></h4>
      <div class="text-center">
        <button id="findMatchReturnToMenuBtn" class="btn hidden">Powr√≥t do menu</button>
      </div>
      <h4 class="text-center">Postƒôp przeciwnika:</h4>
      <div id="findMatchOpponentProgress" class="progress-container text-center"></div>
      <div class="text-center" style="margin-top: 10px;">
        <button id="findMatchGiveUpBtn" class="btn">Poddaj siƒô</button>
      </div>
    </div>


    <!-- Ekran wpisywania nicku dla singleplayera -->
    <div id="pageSingleplayerNickname" class="page hidden">
      <h2 class="text-center" data-i18n="enterNickname">Podaj sw√≥j nick</h2>
      <div class="text-center">
          <input type="text" id="singleplayerNicknameInput" placeholder="Tw√≥j nick" data-i18n-placeholder="nicknamePlaceholder" />
          <button id="confirmSingleplayerBtn" class="btn" data-i18n="next">Dalej</button>
          <button class="btn menuBtn" data-i18n="returnToMenu">Powr√≥t do menu</button>
      </div>
    </div>

    <!-- Ekran wpisywania nicku (tylko dla hosta) -->
    <div id="pageNickname" class="page hidden">
      <h2 class="text-center" data-i18n="enterNickname">Podaj sw√≥j nick</h2>
      <div class="text-center">
        <input type="text" id="nicknameInput" placeholder="Tw√≥j nick" data-i18n-placeholder="nicknamePlaceholder" />
        <button id="confirmNicknameBtn" class="btn" data-i18n="next">Dalej</button>
        <button class="btn menuBtn" data-i18n="returnToMenu">Powr√≥t do menu</button>
      </div>
    </div>

    <!-- Ekran do≈ÇƒÖczenia do gry: kod + nick -->
    <div id="pageJoin" class="page hidden">
      <h2 class="text-center" data-i18n="joinGameTitle">Do≈ÇƒÖcz do gry</h2>
      <div class="text-center">
        <input type="text" id="joinCodeInput" placeholder="Kod gry" data-i18n-placeholder="gameCodePlaceholder" />
      </div>
      <div class="text-center">
        <input type="text" id="joinNicknameInput" placeholder="Tw√≥j nick" data-i18n-placeholder="nicknamePlaceholder" />
      </div>
      <div class="text-center">
        <button id="confirmJoinBtn" class="btn" data-i18n="join">Do≈ÇƒÖcz</button>
      </div>
      <div class="text-center" style="margin-top: 8px;">
        <button class="btn menuBtn" data-i18n="returnToMenu">Powr√≥t do menu</button>
      </div>
    </div>

    <!-- Lobby singleplayer -->
    <div id="pageSingleplayerLobby" class="page hidden">
      <h2 class="text-center">Lobby Singleplayer</h2>
      <p class="text-center">Gracz: <span id="singleplayerNicknameDisplay"></span></p>

      <div class="text-center">
          <label for="singleplayerDifficulty">Poziom trudno≈õci:</label>
          <select id="singleplayerDifficulty">
              <option value="easy">≈Åatwy</option>
              <option value="medium">≈öredni</option>
              <option value="hard">Trudny</option>
          </select>
      </div>

      <div class="text-center">
          <label for="singleplayerMode">Tryb gry:</label>
          <select id="singleplayerMode">
              <option value="normal">Normal</option>
              <option value="hardcore">Hardcore</option>
          </select>
      </div>

      <div class="text-center" style="margin-top: 15px;">
          <button id="startSingleplayerGameBtn" class="btn">Rozpocznij grƒô</button>
      </div>

      <div class="text-center" style="margin-top: 8px;">
          <button class="btn menuBtn">Powr√≥t do menu</button>
      </div>
    </div>

    <!-- Lobby -->
    <div id="pageLobby" class="page hidden">
      <h2 class="text-center" data-i18n="lobbyTitle">Lobby</h2>
      <p id="gameCodeDisplay" class="game-code"></p>

      <div class="text-center">
        <button id="regenerateCodeBtn" class="btn hidden" data-i18n="regenerateCode">Wygeneruj nowy kod</button>
      </div>

      <div class="players-status-container text-center">
        <span id="hostStatus"></span>
        <span id="playerStatus"></span>
      </div>

      <div class="text-center" style="margin-top: 15px;">
        <button id="readyBtn" class="btn" data-i18n="ready">Gotowy</button>
      </div>
      <div class="text-center" style="margin-top: 8px;">
        <button id="startGameBtn" class="btn hidden" data-i18n="startGame">Rozpocznij grƒô</button>
      </div>
      <div class="text-center" style="margin-top: 8px;">
        <button class="btn menuBtn" data-i18n="returnToMenu">Powr√≥t do menu</button>
      </div>

      <!-- Pole modyfikacje dla hosta dla modyfikacji gry -->
      <div id="hostModifications" class="host-modifications hidden">
        <h3 class="text-center" data-i18n="modifications">Modyfikacje</h3>
        <div class="modifications-content">
          
          <!-- wyb√≥r poziomu trudno≈õci -->
          <div class="custom-select-wrapper">
            <label for="difficultySelect" data-i18n="difficultyLevel">Poziom trudno≈õci:</label>
            <div class="custom-select">
              <select id="difficultySelect">
                <option value="easy" data-i18n="easy">≈Åatwy</option>
                <option value="medium" selected data-i18n="medium">≈öredni</option>
                <option value="hard" data-i18n="hard">Trudny</option>
              </select>
            </div>
          </div>

          <!-- wyb√≥r trybu gry -->
          <div class="custom-select-wrapper">
            <label for="modeSelect" data-i18n="gameModeLabel">Tryb gry:</label>
            <div class="custom-select">
              <select id="modeSelect">
                <option value="hardcore" data-i18n="hardcoreMode">Hardcore</option>
                <option value="normal" data-i18n="normalMode">Normal</option>
              </select>
            </div>
          </div>

          <!-- Tutaj p√≥≈∫niej dodasz elementy konfiguracyjne -->
          <p class="mod-placeholder" data-i18n="modPlaceholder">Opcje bƒôdƒÖ dostƒôpne wkr√≥tce!</p>
        </div>
      </div>

      <!-- Odliczanie 5s -->
      <div id="countdownContainer" class="countdown-container hidden text-center">
        <div id="countdownNumber" class="countdown-number">5</div>
        <div class="countdown-bar">
          <div id="countdownBarProgress" class="countdown-bar-progress"></div>
        </div>
      </div>
    </div>

    <!-- G≈Ç√≥wna gra -->
    <div id="pageGame" class="page hidden">
      <h2 class="text-center" data-i18n="gameInstruction">Przepisz tekst najszybciej, jak potrafisz!</h2>

      <div id="textContainer" class="text-container">
        <div id="textToType" class="big-text"></div>
      </div>

      <div class="text-center">
        <input type="text" id="typedText" class="typing-input" placeholder="Tutaj pisz..." data-i18n-placeholder="typeHere" />
      </div>

      <h3 id="winner" class="text-center"></h3>

      <!-- Nowe: wy≈õwietlanie czasu pisania -->
      <h4 id="finalTime" class="text-center"></h4>

      <div class="text-center">
        <button id="returnToMenuBtn" class="btn hidden" data-i18n="returnToMenu">Powr√≥t do menu</button>
      </div>

      <h4 class="text-center" data-i18n="opponentProgressLabel">Postƒôp przeciwnika:</h4>
      <div id="opponentProgress" class="progress-container text-center"></div>

      <!-- Dodajemy przycisk "Poddaj siƒô" -->
      <div class="text-center" style="margin-top: 10px;">
        <button id="giveUpBtn" class="btn" data-i18n="giveUp">Poddaj siƒô</button>
      </div>
    </div>

    <div id="info" class="text-center error-msg"></div>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="translations.js"></script>
  <script src="main.js"></script>
  <script src="findmatchlocal.js"></script>
  <script src="howtoplaypopup.js"></script>
  <script src="versionpopup.js"></script>

  <footer class="footer">
    <p>&copy; 2025 Fast Type Race. All rights reserved.  
        <span class="footer-divider">|</span> 
        Coded by <a href="https://mateuszmichel.com/" target="_blank" class="footer-link">Mateusz Michel</a>  
        <span class="footer-divider">|</span>  
        <span id="versionInfo" style="cursor: pointer; text-decoration: underline;">Version 1.0</span>
    </p>
    <p style="font-weight: 300;" id="donateInfo" data-i18n="donateInfo">
      If you like this game and would like to support my work, please consider <a style="color: green; text-decoration: none;" href="https://www.paypal.me/LOREXmusic" target="_blank"><strong>donating</strong></a>.<br><strong> Thank you!</strong>
    </p>
  </footer>


  <!-- T≈Ço przyciemniajƒÖce ekran -->
  <div id="popupOverlay" class="popup-overlay"></div>

  <!-- Pop-up z informacjƒÖ o wyniku gry -->
  <div id="resultPopup" class="popup">
    <h2 id="popupTitle"></h2>
    <p id="popupMessage"></p>
    <p id="popupTime"></p>
    <p id="popupWPM"></p>
    <button id="popupCloseBtn" class="btn">Powr√≥t do menu</button>
  </div>

  <!-- Pop-up z odliczaniem przed startem gry -->
  <div id="countdownPopupOverlay" class="popup-overlay"></div>

  <div id="countdownPopup" class="popup">
      <h2>Gra rozpocznie siƒô za:</h2>
      <p id="countdownPopupNumber" style="font-size: 2.5rem; font-weight: bold; color: #45a049;">5</p>
  </div>



<!-- Popup z instrukcjƒÖ ‚Äì umie≈õƒá go na ko≈Ñcu, przed zamkniƒôciem tagu </body> -->
<div id="howToPlayPopup" class="popup popup-howtoplay">
  <button id="closeHowToPlay" class="popup-close">X</button>
  <div class="popup-content">
    <h2 style="color:#45a049;" data-i18n="howToPlayTitle">How to play?</h2>
    <p data-i18n="howToPlayText1">
      In this game, your goal is to type the given text as fast as possible. The game offers various modes:
    </p>
    <p style="color:#45a049;" data-i18n="gameTypesTitle"><strong>Game types:</strong></p>
    <ul>
      <li data-i18n="gameTypeSingleplayer">
        <strong>‚ñ∂ Singleplayer:</strong> A mode designed for players who want to improve their typing speed and accuracy. You play solo with no time constraints.
      </li>
      <li data-i18n="gameTypeWithFriend">
        <strong>‚ñ∂ Play with friends:</strong> Create or join a game to compete with a friend.
      </li>
      <li data-i18n="gameTypeFindMatch">
        <strong">‚ñ∂ Find Match:</strong> Find an opponent online and compete with players from around the world!
      </li>
    </ul>
    <br>
    <p style="color:#45a049;" data-i18n="difficultyTitle"><strong>Difficulty Levels:</strong></p>
    <p data-i18n="difficultyNote">*available only in multiplayer and play with friend modes</p>
    <ul>
      <li data-i18n="difficultyEasy">
        <strong>‚ñ∂ Easy:</strong> Texts are short and contain minimal punctuation.
      </li>
      <li data-i18n="difficultyMedium">
        <strong>‚ñ∂ Medium:</strong> Texts are of moderate length with a normal amount of punctuation.
      </li>
      <li data-i18n="difficultyHard">
        <strong>‚ñ∂ Hard:</strong> Texts are long and complex, containing challenging words and lots of punctuation.
      </li>
    </ul>
    <br>
    <p style="color:#45a049;" data-i18n="gameModeTitle"><strong>Game Modes:</strong></p>
    <p data-i18n="gameModeNote">*available only in multiplayer and play with friend modes</p>
    <ul>
      <li data-i18n="modeNormal">
        <strong>‚ñ∂ Normal:</strong> The game does not allow you to type an incorrect character and notifies you of mistakes, letting you continue from the last correct character.
      </li>
      <li data-i18n="modeHardcore">
        <strong>‚ñ∂ Hardcore:</strong> Any mistake cancels all progress, and you must retype the entire text from the beginning.
      </li>
    </ul>
    <br>
    <button id="closeHowToPlayBtn" class="btn" data-i18n="closeHowToPlayBtn">Close</button>
  </div>
</div>

<!-- Changelog & Author Info Popup -->
<div id="versionPopup" class="popup popup-version">
  <button id="closeVersionPopup" class="popup-close">X</button>
  <div class="popup-content">
    <p id="donateInfo" data-i18n="donateInfo">
      If you like this game and would like to support my work, please consider <a style="color: green; text-decoration: none;" href="https://www.paypal.me/LOREXmusic" target="_blank"><strong>donating</strong></a>.<br><strong> Thank you!</strong>
    </p>
    <h2 style="color:#45a049;" data-i18n="versionPopupTitle">Changelog &amp; Author Info</h2>
    <div data-i18n="versionPopupContent">
      <p style="color:#45a049;"><strong>Changelog:</strong></p>
      <ul>
        <li>Version 1.0 - Initial game version - February 7th 2025</li>
        <br>
        <li><strong>GAME TYPES ADDED:</strong>
          <ul>
            <li>Singleplayer</li>
            <li>Play with Friends</li>
            <li>Find Match</li>
          </ul>
        </li>
        <li><strong>DIFFICULTY LEVELS ADDED:</strong>
          <ul>
            <li>Easy</li>
            <li>Medium</li>
            <li>Hard</li>
          </ul>
        </li>
        <li><strong>GAME MODES ADDED:</strong>
          <ul>
            <li>Normal</li>
            <li>Hardcore</li>
          </ul>
        </li>
      </ul>
      <br>
      <p style="color:#45a049;"><strong>Technologies &amp; Tools:</strong></p>
      <ul>
        <li>HTML5, CSS3, JavaScript (ES6+)</li>
        <li>Node.js, Express</li>
        <li>Socket.IO for real-time communication</li>
        <li>Google Fonts (Poppins)</li>
        <li>Custom CSS animations and transitions</li>
      </ul>
      <br>
      <p style="color:#45a049;"><strong>About the Author:</strong></p>
      <ul>
      <li style="font-size: 0.8rem; font-weight: 300;">This game was developed by Mateusz Michel.</li>
      <li style="font-size: 0.8rem; font-weight: 300;">The initial development of the game took about a week and was a hobby project.</li>
      <li style="font-size: 0.8rem; font-weight: 300;">I am eager to develop it further, and am very interested in the ideas of possible players.</li>
      <li style="font-size: 0.8rem; font-weight: 300;">Thank you for playing my game!</li>
      </ul>
      <br>
    </div>
    <button id="closeVersionPopupBtn" class="btn" data-i18n="closeVersionPopupBtn">Close</button>
  </div>
</div>


</body>
</html>
