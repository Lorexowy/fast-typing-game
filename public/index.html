<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <title data-i18n="pageTitle">Gra w szybkie pisanie</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>

  <!-- contener opcji-->
  <div class="options-container">
    <h3 data-i18n="optionsGame">Opcje gry</h3>

    <!-- prze≈ÇƒÖcznik motywu strony na ciemny i jasny-->
    <div class="theme-toggle">
      <span id="themeText" data-i18n="themeToggle">Tryb ciemny</span>
      <span class="theme-icon">‚òÄÔ∏è</span>
      <input type="checkbox" id="themeSwitch">
      <label for="themeSwitch" class="toggle-label"></label>
      <span class="theme-icon">üåô</span>
    </div>

    <!-- Nowy przycisk zmiany jƒôzyka -->
    <button id="langToggleBtn" class="btn" data-i18n="langToggleBtn">Switch to English</button>

    <p class="opt-placeholder" data-i18n="optionsPlaceholder">Tutaj bƒôdƒÖ pojawia≈Çy siƒô opcje gry...</p>
  </div>

  <div class="container">

    <!-- Strona powitalna -->
    <div id="pageIntro" class="page">
      <h1 class="title text-center" data-i18n="gameTitle">Gra w szybkie pisanie</h1>
      <p class="text-center" data-i18n="introOptions1">Graj samemu:</p>
      <div class="btn-group text-center">
        <button id="singleplayerBtn" class="btn" data-i18n="singleplayer">Singleplayer</button>
      </div>
      <p class="text-center" data-i18n="introOptions2">Graj ze znajomymi:</p>
      <div>
        <button id="createGameBtn" class="btn" data-i18n="createGame">Stw√≥rz grƒô</button>
        <button id="goToJoinBtn" class="btn" data-i18n="joinGame">Do≈ÇƒÖcz do gry</button>
      </div>
    </div>

    <!-- Ekran wpisywania nicku dla singleplayera -->
    <div id="pageSingleplayerNickname" class="page hidden">
      <h2 class="text-center" data-i18n="enterNickname">Podaj sw√≥j nick</h2>
      <div class="text-center">
          <input type="text" id="singleplayerNicknameInput" placeholder="Tw√≥j nick" data-i18n-placeholder="nicknamePlaceholder" />
          <button id="confirmSingleplayerBtn" class="btn" data-i18n="next">Dalej</button>
          <button class="btn menuBtn" data-i18n="returnToMenu">Powr√≥t do menu</button>
      </div>
    </div>

    <!-- Ekran wpisywania nicku (tylko dla hosta) -->
    <div id="pageNickname" class="page hidden">
      <h2 class="text-center" data-i18n="enterNickname">Podaj sw√≥j nick</h2>
      <div class="text-center">
        <input type="text" id="nicknameInput" placeholder="Tw√≥j nick" data-i18n-placeholder="nicknamePlaceholder" />
        <button id="confirmNicknameBtn" class="btn" data-i18n="next">Dalej</button>
        <button class="btn menuBtn" data-i18n="returnToMenu">Powr√≥t do menu</button>
      </div>
    </div>

    <!-- Ekran do≈ÇƒÖczenia do gry: kod + nick -->
    <div id="pageJoin" class="page hidden">
      <h2 class="text-center" data-i18n="joinGameTitle">Do≈ÇƒÖcz do gry</h2>
      <div class="text-center">
        <input type="text" id="joinCodeInput" placeholder="Kod gry" data-i18n-placeholder="gameCodePlaceholder" />
      </div>
      <div class="text-center">
        <input type="text" id="joinNicknameInput" placeholder="Tw√≥j nick" data-i18n-placeholder="nicknamePlaceholder" />
      </div>
      <div class="text-center">
        <button id="confirmJoinBtn" class="btn" data-i18n="join">Do≈ÇƒÖcz</button>
      </div>
      <div class="text-center" style="margin-top: 8px;">
        <button class="btn menuBtn" data-i18n="returnToMenu">Powr√≥t do menu</button>
      </div>
    </div>

    <!-- Lobby singleplayer -->
    <div id="pageSingleplayerLobby" class="page hidden">
      <h2 class="text-center">Lobby Singleplayer</h2>
      <p class="text-center">Gracz: <span id="singleplayerNicknameDisplay"></span></p>

      <div class="text-center">
          <label for="singleplayerDifficulty">Poziom trudno≈õci:</label>
          <select id="singleplayerDifficulty">
              <option value="easy">≈Åatwy</option>
              <option value="medium">≈öredni</option>
              <option value="hard">Trudny</option>
          </select>
      </div>

      <div class="text-center">
          <label for="singleplayerMode">Tryb gry:</label>
          <select id="singleplayerMode">
              <option value="normal">Normal</option>
              <option value="hardcore">Hardcore</option>
          </select>
      </div>

      <div class="text-center" style="margin-top: 15px;">
          <button id="startSingleplayerGameBtn" class="btn">Rozpocznij grƒô</button>
      </div>

      <div class="text-center" style="margin-top: 8px;">
          <button class="btn menuBtn">Powr√≥t do menu</button>
      </div>
    </div>

    <!-- Lobby -->
    <div id="pageLobby" class="page hidden">
      <h2 class="text-center" data-i18n="lobbyTitle">Lobby</h2>
      <p id="gameCodeDisplay" class="game-code"></p>

      <div class="text-center">
        <button id="regenerateCodeBtn" class="btn hidden" data-i18n="regenerateCode">Wygeneruj nowy kod</button>
      </div>

      <div class="players-status-container text-center">
        <span id="hostStatus"></span>
        <span id="playerStatus"></span>
      </div>

      <div class="text-center" style="margin-top: 15px;">
        <button id="readyBtn" class="btn" data-i18n="ready">Gotowy</button>
      </div>
      <div class="text-center" style="margin-top: 8px;">
        <button id="startGameBtn" class="btn hidden" data-i18n="startGame">Rozpocznij grƒô</button>
      </div>
      <div class="text-center" style="margin-top: 8px;">
        <button class="btn menuBtn" data-i18n="returnToMenu">Powr√≥t do menu</button>
      </div>

      <!-- Pole modyfikacje dla hosta dla modyfikacji gry -->
      <div id="hostModifications" class="host-modifications hidden">
        <h3 class="text-center" data-i18n="modifications">Modyfikacje</h3>
        <div class="modifications-content">
          
          <!-- wyb√≥r poziomu trudno≈õci -->
          <div class="custom-select-wrapper">
            <label for="difficultySelect" data-i18n="difficultyLevel">Poziom trudno≈õci:</label>
            <div class="custom-select">
              <select id="difficultySelect">
                <option value="easy" data-i18n="easy">≈Åatwy</option>
                <option value="medium" selected data-i18n="medium">≈öredni</option>
                <option value="hard" data-i18n="hard">Trudny</option>
              </select>
            </div>
          </div>

          <!-- wyb√≥r trybu gry -->
          <div class="custom-select-wrapper">
            <label for="modeSelect" data-i18n="gameModeLabel">Tryb gry:</label>
            <div class="custom-select">
              <select id="modeSelect">
                <option value="hardcore" data-i18n="hardcoreMode">Hardcore</option>
                <option value="normal" data-i18n="normalMode">Normal</option>
              </select>
            </div>
          </div>

          <!-- Tutaj p√≥≈∫niej dodasz elementy konfiguracyjne -->
          <p class="mod-placeholder" data-i18n="modPlaceholder">Opcje bƒôdƒÖ dostƒôpne wkr√≥tce!</p>
        </div>
      </div>

      <!-- Odliczanie 5s -->
      <div id="countdownContainer" class="countdown-container hidden text-center">
        <div id="countdownNumber" class="countdown-number">5</div>
        <div class="countdown-bar">
          <div id="countdownBarProgress" class="countdown-bar-progress"></div>
        </div>
      </div>
    </div>

    <!-- G≈Ç√≥wna gra -->
    <div id="pageGame" class="page hidden">
      <h2 class="text-center" data-i18n="gameInstruction">Przepisz tekst najszybciej, jak potrafisz!</h2>

      <div id="textContainer" class="text-container">
        <div id="textToType" class="big-text"></div>
      </div>

      <div class="text-center">
        <input type="text" id="typedText" class="typing-input" placeholder="Tutaj pisz..." data-i18n-placeholder="typeHere" />
      </div>

      <h3 id="winner" class="text-center"></h3>

      <!-- Nowe: wy≈õwietlanie czasu pisania -->
      <h4 id="finalTime" class="text-center"></h4>

      <div class="text-center">
        <button id="returnToMenuBtn" class="btn hidden" data-i18n="returnToMenu">Powr√≥t do menu</button>
      </div>

      <h4 class="text-center" data-i18n="opponentProgressLabel">Postƒôp przeciwnika:</h4>
      <div id="opponentProgress" class="progress-container text-center"></div>

      <!-- Dodajemy przycisk "Poddaj siƒô" -->
      <div class="text-center" style="margin-top: 10px;">
        <button id="giveUpBtn" class="btn" data-i18n="giveUp">Poddaj siƒô</button>
      </div>
    </div>

    <div id="info" class="text-center error-msg"></div>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="translations.js"></script>
  <script src="main.js"></script>

  <footer class="footer">
    <p>&copy; 2025 Fast Type Race. All rights reserved.  
        <span class="footer-divider">|</span> 
        Coded by <a href="https://mateuszmichel.com/" target="_blank" class="footer-link">Mateusz Michel</a>  
        <span class="footer-divider">|</span>  
        Version 1.0
    </p>
</footer>


  <!-- T≈Ço przyciemniajƒÖce ekran -->
  <div id="popupOverlay" class="popup-overlay"></div>

  <!-- Pop-up z informacjƒÖ o wyniku gry -->
  <div id="resultPopup" class="popup">
    <h2 id="popupTitle"></h2>
    <p id="popupMessage"></p>
    <p id="popupTime"></p>
    <p id="popupWPM"></p>
    <button id="popupCloseBtn" class="btn">Powr√≥t do menu</button>
  </div>

  <!-- Pop-up z odliczaniem przed startem gry -->
  <div id="countdownPopupOverlay" class="popup-overlay"></div>

  <div id="countdownPopup" class="popup">
      <h2>Gra rozpocznie siƒô za:</h2>
      <p id="countdownPopupNumber" style="font-size: 2.5rem; font-weight: bold; color: #45a049;">5</p>
  </div>



</body>
</html>
